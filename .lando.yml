name: Diary
recipe: drupal10
proxy:
  appserver:
    - diary.dev.lando
  phpmyadmin:
    - diary.phpmyadmin.dev.lando
config:
  php: "8.3"
  via: apache:2.4
  webroot: web
keys: true
services:
  appserver:
    ssl: true
    config:
      php: .vscode/php.ini
    overrides:
      environment:
        USE_ACLI: 0
        USE_PUSH_DB: 0
        USE_QUERY_LOG: 0
        XDEBUG_MODE:
  memcached:
    type: memcached:1
    app_mount: false
    portforward: true
    mem: 64
  phpmyadmin:
    ssl: true
    type: phpmyadmin
    app_mount: false
tooling:
  'db-export [file]':
    service: :host
    description: Exports database from a database service to a file
    cmd: /helpers/sql-export.sh
    user: root
    options:
      host:
        description: The database service to use
        default: database
        alias:
          - h
      stdout:
        description: Dump database to stdout
  'db-import <file>':
    service: :host
    description: Imports a dump file into a database service
    cmd: /helpers/sql-import.sh
    user: root
    options:
      host:
        description: The database service to use
        default: database
        alias:
          - h
      no-wipe:
        description: Do not destroy the existing database before an import
        boolean: true
